"use strict";angular.module("app",[]);var app=angular.module("app",[]);app.controller("SomeController",["$scope",function(a){a.expanders=[{title:"Titre 1",text:"Contenu 1"},{title:"Titre 2",text:"Contenu 2"},{title:"Titre 3",text:"Contenu 3"}]}]),app.directive("accordion",function(){return{restrict:"EA",replace:!0,transclude:!0,template:"<div ng-transclude></div>",controller:function(){var a=[];this.gotOpened=function(b){a.forEach(function(a){b!=a&&(a.showMe=!1)})},this.addExpander=function(b){a.push(b)}}}}),app.directive("expander",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^?accordion",scope:{title:"=expanderTitle"},template:'<div><div class="title" ng-click="toggle()">{{title}}</div><div class="body" ng-show="showMe" ng-transclude></div></div>',link:function(a,b,c,d){a.showMe=!1,d.addExpander(a),a.toggle=function(){a.showMe=!a.showMe,d.gotOpened(a)}}}}),angular.module("angularLearningApp").run(["$templateCache",function(a){a.put("views/main.html",'<div ng-app="app"> <div ng-controller="SomeController"> <accordion> <expander class="expander" expander-title="expander.title" ng-repeat="expander in expanders"> {{expander.text}} </expander> </accordion> </div> </div>')}]);